# 家醫部住院醫師EPA評核系統

## 📋 系統概述

家醫部住院醫師EPA評核系統是專為家庭醫學專科醫師訓練計畫設計的評核追蹤系統，能夠全面分析住院醫師在各種EPA項目上的學習進度和表現。

## 🏗️ 系統架構

### 主要模組

1. **`fam_residents.py`** - 主要頁面邏輯
   - 資料概覽
   - 個別住院醫師分析
   - EPA項目追蹤
   - 學習進度分析

2. **`fam_data_processor.py`** - 資料處理器
   - 資料清理和轉換
   - EPA進度計算
   - 統計分析
   - 時間序列處理

3. **`fam_visualization.py`** - 視覺化模組
   - 圖表生成
   - 互動式視覺化
   - 主題配置

## 📊 主要功能

### 1. 資料概覽
- 總體統計資訊
- EPA項目分布分析
- 住院醫師分布
- 複雜程度分析

### 2. 個別住院醫師分析
- 個人EPA完成狀況
- 信賴程度分析
- 教師回饋檢視
- 詳細評核記錄

### 3. EPA項目追蹤
- 完成進度監控
- 目標達成狀況
- 時間進度分析
- 信賴程度變化

### 4. 學習進度分析
- 時間序列分析
- 複雜度挑戰進度
- 同儕比較分析
- 排名和百分位數

## 🎯 EPA項目要求

系統支援以下EPA項目及其最低要求：

| EPA項目 | 最低要求次數 | 描述 |
|---------|-------------|------|
| 02門診/社區衛教 | 10次 | 訓練期間最少10次 |
| 03預防注射 | 15次 | 訓練期間最少15次 |
| 05健康檢查 | 20次 | 訓練期間最少20次 |
| 07慢病照護 | 25次 | 訓練期間最少25次 |
| 08急症照護 | 15次 | 訓練期間最少15次 |
| 09居家整合醫療 | 10次 | 訓練期間最少10次 |
| 11末病照護/安寧緩和 | 5次 | 訓練期間最少5次 |
| 12家庭醫學科住院照護 | 30次 | 訓練期間最少30次 |
| 13家庭醫學科門診照護 | 40次 | 訓練期間最少40次 |
| 14社區醫學實習 | 8次 | 訓練期間最少8次 |
| 15預防醫學與健康促進 | 10次 | 訓練期間最少10次 |
| 16家庭醫學科急診照護 | 20次 | 訓練期間最少20次 |
| 17長期照護 | 5次 | 訓練期間最少5次 |
| 18家庭醫學科研習 | 15次 | 訓練期間最少15次 |

## 📈 信賴程度評估

系統支援以下信賴程度等級：

1. **獨立執行** (5分) - 學員可獨立完成任務
2. **必要時知會教師確認** (4分) - 需要時可尋求教師協助
3. **教師在旁必要時協助** (3分) - 教師在旁提供協助
4. **教師在旁逐步共同操作** (2分) - 教師指導下操作
5. **學員在旁觀察** (1分) - 僅觀察學習
6. **不允許學員觀察** (0分) - 不允許參與

## 🚀 使用方式

### 1. 資料準備
- 上傳符合格式的CSV檔案
- 確保包含所有必要欄位

### 2. 系統使用
```python
# 在主程式中匯入並使用
from pages.FAM.fam_residents import show_fam_resident_evaluation_section

# 顯示家醫部住院醫師評核系統
show_fam_resident_evaluation_section()
```

### 3. 資料格式要求

CSV檔案應包含以下欄位：
- 臨床訓練計畫
- 學員
- 學員帳號
- 日期
- EPA項目
- 受評醫師
- 病歷號碼
- 個案姓名
- 診斷
- 複雜程度
- 觀察場域
- 信賴程度(學員自評)
- 信賴程度(教師評量)
- 教師給學員回饋
- 教師簽名
- 教師給CCC回饋

## 📊 視覺化特色

### 1. 互動式圖表
- 使用Plotly提供互動式視覺化
- 支援縮放、平移等操作
- 響應式設計

### 2. 多種圖表類型
- 長條圖：EPA項目分布
- 圓餅圖：複雜程度分布
- 線圖：時間序列分析
- 進度條：完成狀況
- 熱力圖：綜合分析

### 3. 顏色主題
- 專業醫療主題配色
- 直觀的狀態指示
- 一致的視覺風格

## 🔧 技術特色

### 1. 模組化設計
- 清晰的職責分離
- 易於維護和擴展
- 可重複使用的組件

### 2. 資料處理
- 自動資料清理
- 智能日期處理
- 錯誤處理機制

### 3. 效能優化
- 高效的資料處理
- 記憶體管理
- 快取機制

## 📝 注意事項

1. **資料品質**：確保上傳的CSV檔案資料完整且格式正確
2. **隱私保護**：系統會處理敏感的醫療資料，請注意資料安全
3. **定期更新**：建議定期更新EPA要求標準以符合最新規範
4. **備份機制**：重要資料請定期備份

## 🆘 故障排除

### 常見問題

1. **資料載入失敗**
   - 檢查CSV檔案格式
   - 確認必要欄位存在
   - 檢查檔案編碼

2. **圖表顯示異常**
   - 重新整理頁面
   - 檢查資料完整性
   - 確認瀏覽器相容性

3. **效能問題**
   - 減少資料量
   - 關閉其他應用程式
   - 檢查系統資源

## 📞 技術支援

如有技術問題或功能建議，請聯繫系統開發團隊。

---

**版本**：1.0.0  
**最後更新**：2025年1月  
**開發團隊**：CBME系統開發組
